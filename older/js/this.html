<html>
  <body>
    <script>
      // function foo() {
      //     var a = 2;
      //     this.bar();
      // }

      // function bar() {
      //     console.log(this.a);
      // }

      // foo();

      // function foo() {
      //     "use strict";
      //     console.log(this);
      //     // console.log(this.a);
      //     // console.log(this);
      // }

      // var a = 2;

      // foo();

      // function foo() {
      //     // "use strict";
      //     console.log(this.a);
      // }

      // var a = 2;

      // (function() {
      //     "use strict";
      //     foo();
      // })();

      // function foo() {
      //     console.log(this.a);
      // }

      // var obj = {
      //     a: 2,
      //     foo: foo
      // }

      // obj.foo();

      // function foo() {
      //   console.log(this);
      //   // console.log(this.a);
      // }

      // foo();

      // var obj2 = {
      //     a: 42,
      //     foo: foo
      // }

      // var obj1 = {
      //     a: 2,
      //     obj2: obj2
      // }

      // obj1.obj2.foo();

      // function foo() {
      //     console.log(this.a);
      // }

      // var obj = {
      //     a: 2,
      //     foo: foo
      // }

      // var bar = obj.foo;

      // var a = "oops, global";

      // bar();

      // function foo() {
      //     console.log(this.a);
      // }

      // function doFoo(fn) {
      //     fn();
      // }

      // var obj = {
      //     a: 2,
      //     foo: foo
      // }

      // var a = "oops, global";

      // doFoo(obj.foo);

      // function foo() {
      //     // console.log(this);
      //     console.log(this.a);
      // }

      // var obj = {
      //     a: 2,
      //     foo: foo
      // }

      // var a = "oops. global";

      // setTimeout(obj.foo, 100);

      // function setTimeout(fn, delay) {
      //     fn();
      // }

      // function foo() {
      //     console.log(this);
      //     // console.log(this.a);
      // }

      // var obj = {
      //     a: 2
      // }

      // foo.call(true);

      // function foo() {
      //     console.log(this.a);
      // }

      // var obj = {
      //     a: 2
      // }

      // var bar = function() {
      //     foo.call(obj);
      // }

      // bar();

      // setTimeout(bar, 100);

      // bar.call(window);

      // function foo(something) {
      //     console.log(this.a, something);
      // }

      // var obj = {
      //     a: 2
      // }

      // var bar = function() {
      //     // console.log(arguments);
      //     return foo.apply(obj, arguments);
      // }

      // var b = bar(3);
      // console.log(b);

      // function test() {
      //     console.log(arguments);
      // }

      // console.log(test(333));

      // function foo(something) {
      //     console.log(this.a, something);
      //     return this.a + something;
      // }

      // function bind(fn, obj) {
      //     return function() {
      //         return fn.apply(obj, arguments);
      //     }
      // }

      // var obj = {
      //     a: 2
      // }

      // var bar = bind(foo, obj);

      // var b = bar(3);
      // console.log(b);

      // function foo(something) {
      //     console.log(this.a, something);
      //     return this.a + something;
      // }

      // var obj = {
      //     a: 2
      // }

      // var bar = foo.bind(obj);

      // var b = bar(3);
      // console.log(b);

      // console.log(bar.name);

      // function foo(el) {
      //     console.log(el, this.id);
      // }

      // var obj = {
      //     id: "awesome"
      // };

      // [1,2,3].forEach(foo, obj);

      // function foo(a) {
      //     this.a = a;

      //     t = () => {
      //         console.log('inside f');
      //         console.log(this.a);
      //     }

      //     t();
      // }

      // var bar = new foo(2);
      // // console.log(bar.f());
      // // console.log(bar.a);

      // function foo() {
      //     console.log(this.a);
      // }

      // var obj1 = {
      //     a: 2,
      //     foo: foo
      // }

      // var obj2 = {
      //     a: 3,
      //     foo: foo
      // }

      // obj1.foo(); //2
      // obj2.foo(); //3

      // obj1.foo.call(obj2); //3
      // obj2.foo.call(obj1); //2

      // function foo(something) {
      //     this.a = something;
      // }

      // var obj1 = {
      //     foo: foo
      // }

      // var obj2 = {};

      // obj1.foo(2);
      // console.log(obj1.a);

      // obj1.foo.call(obj2, 3);
      // console.log(obj2.a);

      // var bar = new obj1.foo(4);
      // console.log(obj1.a);
      // console.log(bar.a);

      // function foo(something) {
      //     this.a = something;
      // }

      // var obj1 = {};

      // var bar = foo.bind(obj1);
      // bar(2);
      // console.log(obj1.a);

      // var baz = new bar(3);
      // console.log(obj1.a);
      // console.log(baz.a);

      // function test() {
      //     console.log(this);
      // }

      // let test2 = test.apply(null);

      // console.log(test2());

      // function foo(p1, p2) {
      //     console.log(p1);
      //     console.log(p2);
      //     this.val = p1 + p2;
      // }

      // var bar = foo.bind(null, "p1");

      // var baz = new bar("p2");

      // function person(name, age) {
      //     this.desc = name + " " + age;
      // }

      // let personHasName = person.bind(null, "qi");
      // let me = new personHasName(99);
      // console.log(me);

      // function foo() {
      //     console.log(this.a);
      // }

      // var a = 2;

      // foo.call(null);

      // function foo(a, b) {
      //     console.log("a: " + a + ", b:" + b);
      // }

      // foo.apply(null, [2,3]);

      // var bar = foo.bind()
      // bar(3);

      // function foo(a, b) {
      //     console.log(`a: ${a} b: ${b}`);
      // }

      // var ø = Object.create(null);

      // foo.apply(ø, [2,3]);

      // var bar = foo.bind(ø, 2);
      // bar(3);

      // function foo() {
      //     console.log(this.a);
      // }

      // var a = 2;
      // var o = {a: 3, foo: foo};
      // var p = {a: 4};

      // o.foo();
      // (p.foo = o.foo)();

      // p.foo();

      // if (!Function.prototype.softBind) {
      //   Function.prototype.softBind = function(obj) {
      //     var fn = this,
      //       curried = [].slice.call(arguments, 1),
      //       bound = function bound() {
      //         return fn.apply(
      //           !this ||
      //             (typeof window !== "undefined" && this === window) ||
      //             (typeof global !== "undefined" && this === global)
      //             ? obj
      //             : this,
      //           curried.concat.apply(curried, arguments)
      //         );
      //       };
      //     bound.prototype = Object.create(fn.prototype);
      //     return bound;
      //   };
      // }

      // function foo() {
      //   console.log("name " + this.name);
      // }

      // var obj = {name: "obj"},
      // obj2 = {name: "obj2"},
      // obj3 = {name: "obj3"};

      // var fooOBJ = foo.softBind(obj);

      // fooOBJ();

      // obj2.foo = foo.softBind(obj);
      // obj2.foo();

      // fooOBJ.call(obj3);

      // setTimeout(obj2.foo, 10);

      // arrow-function lexical scope:

      // function foo() {
      //   return (a) => {
      //     console.log(this.a);
      //   };
      // }

      // var obj1 = {
      //   a: 2
      // }

      // var obj2 = {
      //   a: 3
      // }

      // var bar = foo.call(obj1);
      // console.log(bar);
      // //q: what is bar? what is "this" in bar?
      // bar.call(obj2);

      // function foo() {
      //   console.log(this);
      //   setTimeout(function() {
      //     // console.log(this);
      //     // console.log(this.a);
      //   }, 100);
      // }

      // var obj = {
      //   a: 2
      // };

      // foo.call(obj);

      // function foo(n, age) {
      //   // this
      //   console.log(n, age);
      //   var self = this;
      //   setTimeout(function() {
      //     console.log(self.a);
      //   }, 100);
      // }

      // var obj = {
      //   a: 2
      // }

      // // foo.call(obj, 'f', 30);
      // foo.apply(obj, ['f', 30])

      // default
      // function test() {
      //   console.log(this); // global object
      // }

      // test();

      // implicit

      // function printName() {
      //   // console.log(this);
      //   // console.log(this.fname);
      // }

      // let obj = {
      //   fname: "f",
      //   printName: printName
      // }

      // printName();

      // explicit
      // let f = {
      //   fname: "Freddie"
      // }

      // let p = {
      //   fname: "papa"
      // }

      // function printN() {
      //   console.log(this.fname);
      // }

      // printN.call(f);
      // printN.call(p);

      // question about hosting

      // bind
      // function foo() {
      //   console.log(this);
      // }

      // let person = {
      //   fname: "Qi"
      // }

      // var bar = foo.bind(person);
      // bar();
      // what is the output?

      // console.log(foo);

      // var foo = 3;

      // function foo() {
      //   console.log("i am foo");
      // }

      // console.log(foo);

      // how the compiler interepet this code? tranlsate?

      // var foo = function() {
      //   console.log("i am foo");
      // };
      // console.log(foo);
      // foo = 3;
      // console.log(foo);

      // let test = () => {
      //   this.test = "test";
      // }

      // function person(fname) {
      //   this.fname = fname;

      //   test();
      // }

      // let q = new person('qi');
      // console.log(q.test);
      // console.log(test);

      // function f1() {
      //   var a = 100;

      //   function f2() {
      //     console.log(this);
      //   }

      //   return f2;
      // }

      // let f = f1();
      // let f3 = f.bind(100);
      // f3();

      // let f = f1();
      // f();

      // 'use strict'

      // function foo() {
      //   console.log(this);
      // }

      // foo();

      // function foo() {
      //   // console.log(this);
      //   // this.prototype.test = 3;
      //   console.log(this.prototype);
      // }

      // ø = Object.create(null);

      // // foo.apply(ø);
      // foo.apply({})

      // currying

      // function foo(a, b) {
      //   return a + b;
      // }

      // ø = Object.create(null);

      // let f1 = foo.bind(ø, 2);
      // let f2 = f1.bind(ø, 3);
      // console.log(f2());

      // let emptyObj = Object.create({});
      // console.log(Object.getPrototypeOf(emptyObj));

      // let emptyObj2 = Object.create(null);
      // console.log(Object.getPrototypeOf(emptyObj2));

      // new binding vs implicit binding

      // var f = function() {
      //   this.name = "feizhi"

      //   this.test = function() {
      //     console.log(this.name);
      //   }
      // }

      // var f1 = new f();
      // f1.test();

      // 'use strict'

      // function foo() {
      //   console.log(this);
      // }

      // // foo.apply(undefined);
      // foo();

      // var tScope = function() {
      //   this.x = 33;
      //   this.foo = function() {
      //     console.log(this.x);
      //   };
      // };

      // let t1 = new tScope();

      // tScope.prototype = {
      //   a: 99,
      //   bFunc: function() {
      //     console.log("b");
      //   }
      // };

      // console.log(t1);

      // function a() {
      //   let b = () => {
      //     this.c = 33;
      //   };
      //   b();
      // }

      // let foo = new a();
      // console.log(foo.c);

      


    </script>
  </body>
</html>
